



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.4.3">
    
    
      
        <title>Lambda expressions - Faxe</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#lambda-expressions" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Faxe" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Faxe
            </span>
            <span class="md-header-nav__topic">
              
                Lambda expressions
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Faxe" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Faxe
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../index.html" title="Faxe" class="md-nav__link">
      Faxe
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Dfs examples
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Dfs examples
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dfs_examples/consume_data_rewrite_republish.html" title="Consume data rewrite republish" class="md-nav__link">
      Consume data rewrite republish
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dfs_examples/python_double.html" title="Python double" class="md-nav__link">
      Python double
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dfs_examples/read_modbus_publish_mqtt.html" title="Read modbus publish mqtt" class="md-nav__link">
      Read modbus publish mqtt
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Dfs script language
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Dfs script language
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="index.html" title="Introducing the DFS Script Language" class="md-nav__link">
      Introducing the DFS Script Language
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Lambda expressions
      </label>
    
    <a href="lambda_expressions.html" title="Lambda expressions" class="md-nav__link md-nav__link--active">
      Lambda expressions
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    !
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#built-in-functions" class="md-nav__link">
    Built-in functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-conversion" class="md-nav__link">
    Type conversion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-functions" class="md-nav__link">
    Time functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#math-functions" class="md-nav__link">
    Math functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-functions" class="md-nav__link">
    String functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc" class="md-nav__link">
    Misc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-functions" class="md-nav__link">
    Conditional functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Nodes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Nodes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/index.html" title="Faxe nodes" class="md-nav__link">
      Faxe nodes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/amqp_consume.html" title="Amqp consume" class="md-nav__link">
      Amqp consume
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/amqp_publish.html" title="Amqp publish" class="md-nav__link">
      Amqp publish
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/batch.html" title="Batch" class="md-nav__link">
      Batch
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/case.html" title="Case" class="md-nav__link">
      Case
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/change_detect.html" title="Change detect" class="md-nav__link">
      Change detect
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/combine.html" title="Combine" class="md-nav__link">
      Combine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/crate_out.html" title="Crate out" class="md-nav__link">
      Crate out
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/crate_query.html" title="Crate query" class="md-nav__link">
      Crate query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/deadman.html" title="Deadman" class="md-nav__link">
      Deadman
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/debug.html" title="Debug" class="md-nav__link">
      Debug
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/default.html" title="Default" class="md-nav__link">
      Default
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/delete.html" title="Delete" class="md-nav__link">
      Delete
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/email.html" title="Email" class="md-nav__link">
      Email
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/eval.html" title="Eval" class="md-nav__link">
      Eval
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/http_post.html" title="Http post" class="md-nav__link">
      Http post
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/http_post_crate.html" title="Http post crate" class="md-nav__link">
      Http post crate
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/join.html" title="Join" class="md-nav__link">
      Join
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/json_emitter.html" title="Json emitter" class="md-nav__link">
      Json emitter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/keep.html" title="Keep" class="md-nav__link">
      Keep
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/log.html" title="Log" class="md-nav__link">
      Log
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/mem.html" title="Mem" class="md-nav__link">
      Mem
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/modbus.html" title="Modbus" class="md-nav__link">
      Modbus
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/mqtt_publish.html" title="Mqtt publish" class="md-nav__link">
      Mqtt publish
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/mqtt_subscribe.html" title="Mqtt subscribe" class="md-nav__link">
      Mqtt subscribe
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/oracle_query.html" title="Oracle query" class="md-nav__link">
      Oracle query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/python.html" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/rename.html" title="Rename" class="md-nav__link">
      Rename
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/s7poll.html" title="S7poll" class="md-nav__link">
      S7poll
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/s7read.html" title="S7read" class="md-nav__link">
      S7read
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/sample.html" title="Sample" class="md-nav__link">
      Sample
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/set.html" title="Set" class="md-nav__link">
      Set
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/shift.html" title="Shift" class="md-nav__link">
      Shift
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/state_change.html" title="State change" class="md-nav__link">
      State change
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/state_count.html" title="State count" class="md-nav__link">
      State count
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/state_duration.html" title="State duration" class="md-nav__link">
      State duration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/state_sequence.html" title="State sequence" class="md-nav__link">
      State sequence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/stats.html" title="Stats" class="md-nav__link">
      Stats
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/tcp_receive.html" title="Tcp receive" class="md-nav__link">
      Tcp receive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/tcp_receive_line.html" title="Tcp receive line" class="md-nav__link">
      Tcp receive line
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/time_diff.html" title="Time diff" class="md-nav__link">
      Time diff
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/time_elapsed.html" title="Time elapsed" class="md-nav__link">
      Time elapsed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/triggered_timeout.html" title="Triggered timeout" class="md-nav__link">
      Triggered timeout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/udp_receive.html" title="Udp receive" class="md-nav__link">
      Udp receive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/union.html" title="Union" class="md-nav__link">
      Union
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/value_emitter.html" title="Value emitter" class="md-nav__link">
      Value emitter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/where.html" title="Where" class="md-nav__link">
      Where
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/win_clock.html" title="Win clock" class="md-nav__link">
      Win clock
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/win_event.html" title="Win event" class="md-nav__link">
      Win event
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/win_time.html" title="Win time" class="md-nav__link">
      Win time
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-51" type="checkbox" id="nav-4-51">
    
    <label class="md-nav__link" for="nav-4-51">
      Statistics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-51">
        Statistics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/avg.html" title="Avg" class="md-nav__link">
      Avg
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/bottom.html" title="Bottom" class="md-nav__link">
      Bottom
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/count.html" title="Count" class="md-nav__link">
      Count
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/distinct.html" title="Distinct" class="md-nav__link">
      Distinct
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/elapsed.html" title="Elapsed" class="md-nav__link">
      Elapsed
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/first.html" title="First" class="md-nav__link">
      First
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/geometric_mean.html" title="Geometric mean" class="md-nav__link">
      Geometric mean
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/kurtosis.html" title="Kurtosis" class="md-nav__link">
      Kurtosis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/last.html" title="Last" class="md-nav__link">
      Last
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/max.html" title="Max" class="md-nav__link">
      Max
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/mean.html" title="Mean" class="md-nav__link">
      Mean
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/median.html" title="Median" class="md-nav__link">
      Median
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/min.html" title="Min" class="md-nav__link">
      Min
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/percentile.html" title="Percentile" class="md-nav__link">
      Percentile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/stddev.html" title="Stddev" class="md-nav__link">
      Stddev
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/sum.html" title="Sum" class="md-nav__link">
      Sum
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/top.html" title="Top" class="md-nav__link">
      Top
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nodes/statistics/variance.html" title="Variance" class="md-nav__link">
      Variance
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    !
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#built-in-functions" class="md-nav__link">
    Built-in functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-conversion" class="md-nav__link">
    Type conversion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time-functions" class="md-nav__link">
    Time functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#math-functions" class="md-nav__link">
    Math functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string-functions" class="md-nav__link">
    String functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc" class="md-nav__link">
    Misc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-functions" class="md-nav__link">
    Conditional functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="lambda-expressions">Lambda expressions</h1>
<h2 id="overview">Overview</h2>
<p>DFS uses lambda expressions to define transformations on data points as well as define Boolean conditions that act as filters. 
Lambda expressions wrap mathematical operations, Boolean operations, internal function calls or a combination of all three.  </p>
<p>All lambda expressions in DFS begin with the <code>lambda:</code> keyword.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code><span style="color: #f92672">|</span><span style="color: #f8f8f2">where(</span><span style="color: #66d9ef">lambda</span><span style="color: #f8f8f2">:</span> <span style="color: #e6db74">&quot;topic&quot;</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&#39;ttop/grap/prec&#39;</span><span style="color: #f8f8f2">)</span>
</code></pre></div>


<p>In the above example <code>"topic"</code> is used to access the value of a field called <code>topic</code> 
from the current data_point and compared against the string <code>'ttop/grap/prec'</code>.
Note here that literal string values are declared using single quotes, 
while double quotes are used only in lambda expressions to access the values of tags and fields.</p>
<h2 id="_1">!</h2>
<p>As field and tag values can be deeply nested maps and lists, it is possible to use a <code>JSON-path</code> like syntax
to reference them:</p>
<p>Valid examples:</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code>&quot;averages&quot;
&quot;axis.z.cur&quot;
&quot;value.sub[2].data&quot;
&quot;averages.emitted[5]&quot;
</code></pre></div>


<hr />
<h2 id="built-in-functions">Built-in functions</h2>
<h3 id="type-conversion">Type conversion</h3>
<p>With a few exceptions every type can be converted to every other type.</p>
<p><strong>Bool</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code>bool(a_value) -&gt; true|false
</code></pre></div>


<p><strong>Integer</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code>int(value) -&gt; integer
</code></pre></div>


<p><strong>Float</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code>float(value) -&gt; float
</code></pre></div>


<p><strong>String</strong></p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code>string(val) -&gt; string
</code></pre></div>


<h3 id="time-functions">Time functions</h3>
<p>Every data_point in faxe contains a field called <strong><code>ts</code></strong> .</p>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>now()</code> -&gt; integer</td>
<td>returns an utc timestamp in milliseconds</td>
</tr>
<tr>
<td><code>to_iso8601(ts)</code> -&gt; string</td>
<td>converts the timestamp to an ISO8601 datetime string</td>
</tr>
<tr>
<td><code>to_rfc3339(ts)</code> -&gt; string</td>
<td>converts the timestamp to an RFC3339 datetime string</td>
</tr>
<tr>
<td><code>millisecond(ts)</code> -&gt; integer</td>
<td>milliseconds within the second [0, 999]</td>
</tr>
<tr>
<td><code>second(ts)</code> -&gt; integer</td>
<td>second within the minute [0, 59]</td>
</tr>
<tr>
<td><code>minute(ts)</code> -&gt; integer</td>
<td>minute within the hour [0, 59]</td>
</tr>
<tr>
<td><code>hour(ts)</code> -&gt; integer</td>
<td>hour within the day [0, 23]</td>
</tr>
<tr>
<td><code>day(ts)</code> -&gt; integer</td>
<td>day within the month [1, 31]</td>
</tr>
<tr>
<td><code>day_of_week(ts)</code> -&gt; integer</td>
<td>the weekday with week [1, 7] 1 is monday</td>
</tr>
<tr>
<td><code>week(ts)</code> -&gt; integer</td>
<td>isoweek-number within year [1, 53]</td>
</tr>
<tr>
<td><code>month(ts)</code> -&gt; integer</td>
<td>month within the year [1, 12]</td>
</tr>
</tbody>
</table>
<p>Example:</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code><span style="color: #66d9ef">lambda</span><span style="color: #f8f8f2">:</span> <span style="color: #a6e22e">hour</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;ts&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">&gt;=</span> <span style="color: #ae81ff">8</span> <span style="color: #f92672">AND</span> <span style="color: #a6e22e">hour</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;ts&quot;</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">&lt;</span> <span style="color: #ae81ff">19</span>
</code></pre></div>


<p>The above expression evaluates to true if the hour of the day for the data point falls between 08:00 and 19:00.</p>
<h3 id="math-functions">Math functions</h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>abs(x)</code> -&gt; number</td>
<td></td>
</tr>
<tr>
<td><code>acos(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>acosh(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>asin(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>asinh(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>atan(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>atan2(y, x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>atanh(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>ceil(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>cos(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>cosh(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>exp(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>floor(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>fmod(x, y)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>log(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>log10(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>log2(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>max(x, y)</code> -&gt; number</td>
<td></td>
</tr>
<tr>
<td><code>max(list)</code> -&gt; number</td>
<td></td>
</tr>
<tr>
<td><code>min(x, y)</code> -&gt; number</td>
<td></td>
</tr>
<tr>
<td><code>min(list)</code> -&gt; number</td>
<td></td>
</tr>
<tr>
<td><code>pi() -&gt; float</code></td>
<td>gives pi</td>
</tr>
<tr>
<td><code>pow(x, y)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>round(x)</code> -&gt; integer</td>
<td>round a number to an integer</td>
</tr>
<tr>
<td><code>round_float(x, precision)</code> -&gt; float</td>
<td>round a float (x) with the given precision</td>
</tr>
<tr>
<td><code>sin(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>sinh(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>sqrt(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>tan(x)</code> -&gt; float</td>
<td></td>
</tr>
<tr>
<td><code>tanh(x)</code> -&gt; float</td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="string-functions">String functions</h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>str_at(x, pos)</code> -&gt; string/undefined</td>
<td>Returns the grapheme in the position of the given utf8 string. If position is greater than string length, then it returns undefined. Negative offsets count back from the end of the string.</td>
</tr>
<tr>
<td><code>str_capitalize(x)</code> -&gt; string</td>
<td>Converts the first character in the given string to uppercase and the remaining to lowercase</td>
</tr>
<tr>
<td><code>str_contains(x, contents)</code> -&gt; bool</td>
<td>Check if string contains any of the given contents</td>
</tr>
<tr>
<td><code>str_downcase(x)</code> -&gt; string</td>
<td>Convert all characters on the given string to lowercase</td>
</tr>
<tr>
<td><code>str_ends_with(x, suffix)</code> -&gt; string</td>
<td>Returns true if string ends with suffix, otherwise false.</td>
</tr>
<tr>
<td><code>str_ends_with_any(x, suffixes)</code> -&gt; string</td>
<td>Returns true if string ends with any of the suffixes given, otherwise false.</td>
</tr>
<tr>
<td><code>str_eqi(x,y)</code> -&gt; bool</td>
<td>Compares strings case insensitively</td>
</tr>
<tr>
<td><code>str_first(x)</code> -&gt; string/undefined</td>
<td>Returns the first grapheme from an utf8 string, undefined if the string is empty</td>
</tr>
<tr>
<td><code>str_last(x)</code> -&gt; string/undefined</td>
<td>Returns the last grapheme from an utf8 string, undefined if the string is empty</td>
</tr>
<tr>
<td><code>str_length(x)</code> -&gt; int</td>
<td>Returns the number of unicode graphemes in an utf8 string</td>
</tr>
<tr>
<td><code>str_lstrip(x)</code> -&gt; string</td>
<td>Returns a string where leading Unicode whitespace has been removed</td>
</tr>
<tr>
<td><code>str_lstrip(x, char)</code> -&gt; string</td>
<td>Returns a string where leading char have been removed</td>
</tr>
<tr>
<td>str_normalize/2</td>
<td></td>
</tr>
<tr>
<td>str_pad_leading/2</td>
<td></td>
</tr>
<tr>
<td>str_pad_leading/3</td>
<td></td>
</tr>
<tr>
<td>str_pad_trailing/2</td>
<td></td>
</tr>
<tr>
<td>str_pad_trailing/3</td>
<td></td>
</tr>
<tr>
<td><code>str_replace(x, patt, repl)</code> -&gt; string</td>
<td>Returns a new string based on subject by replacing the parts matching pattern by replacement.</td>
</tr>
<tr>
<td>str_replace_leading/3</td>
<td>Replaces all leading occurrences of match by replacement of match in string.</td>
</tr>
<tr>
<td>str_replace_trailing/3</td>
<td>Replaces all trailing occurrences of match by replacement of match in string.</td>
</tr>
<tr>
<td><code>str_replace_prefix(x, match, repl)</code> -&gt; string</td>
<td>Replaces prefix in string by replacement if it matches match. Returns the string untouched if there is no match. If match is an empty string (""), replacement is just prepended to string.</td>
</tr>
<tr>
<td><code>str_replace_suffix(x, match, repl)</code> -&gt; string</td>
<td>Replaces suffix in string by replacement if it matches match. Returns the string untouched if there is no match. If match is an empty string (""), replacement is just appended to string.</td>
</tr>
<tr>
<td><code>str_reverse(x)</code> -&gt; string</td>
<td>Reverses the given string.</td>
</tr>
<tr>
<td><code>str_rstrip(x)</code> -&gt; string</td>
<td>Returns a string where trailing Unicode whitespace has been removed</td>
</tr>
<tr>
<td><code>str_rstrip(x, char)</code> -&gt; string</td>
<td>Returns a string where trailing char have been removed</td>
</tr>
<tr>
<td><code>str_slice(x, start, len)</code> -&gt; string</td>
<td>Returns a substring starting at the offset given by the first, and a length given by the second param, if offset is negative, count back from end of string.</td>
</tr>
<tr>
<td>str_split/1</td>
<td></td>
</tr>
<tr>
<td>str_split/2</td>
<td></td>
</tr>
<tr>
<td>str_split/3</td>
<td></td>
</tr>
<tr>
<td>str_split_at/2</td>
<td></td>
</tr>
<tr>
<td>str_split_by_any/2</td>
<td></td>
</tr>
<tr>
<td>str_split_by_any/3</td>
<td></td>
</tr>
<tr>
<td>str_split_by_re/2</td>
<td></td>
</tr>
<tr>
<td>str_split_by_re/3</td>
<td></td>
</tr>
<tr>
<td><code>str_starts_with(x, pre)</code> -&gt; bool</td>
<td>Returns true if string starts with Prefix</td>
</tr>
<tr>
<td><code>str_starts_with_any(x, prefixes)</code> -&gt; bool</td>
<td>Returns true if string starts with any of the prefixes given, otherwise false.</td>
</tr>
<tr>
<td><code>str_strip(x)</code> -&gt; string</td>
<td>Returns a string where leading/trailing Unicode whitespace has been removed</td>
</tr>
<tr>
<td><code>str_strip(x, char)</code> -&gt; string</td>
<td>Returns a string where leading/trailing char have been removed</td>
</tr>
<tr>
<td><code>str_upcase(x)</code> -&gt; string</td>
<td>Convert all characters on the given string to uppercase</td>
</tr>
</tbody>
</table>
<h3 id="misc">Misc</h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>defined(Key)</code> -&gt; bool</td>
<td>whether the given Key is defined in the current data-item</td>
</tr>
<tr>
<td><code>undefined(Key)</code> -&gt; bool</td>
<td>whether the given Key is NOT defined in the current data-item</td>
</tr>
<tr>
<td><code>member(Ele, List)</code> -&gt; bool</td>
<td>check for list/set membership</td>
</tr>
<tr>
<td><code>not_member(Ele, List)</code> -&gt; bool</td>
<td></td>
</tr>
<tr>
<td><code>random(N)</code> -&gt; integer</td>
<td>generate a random integer between 1 and N</td>
</tr>
<tr>
<td><code>random_real(N)</code> -&gt; float</td>
<td>generate a random float between 0.0 and 1.0, that gets multiplied by N</td>
</tr>
<tr>
<td><code>mem</code> values are set with the <a href="../nodes/mem.html">mem node</a></td>
<td></td>
</tr>
<tr>
<td><code>ls_mem(Key)</code> -&gt; any</td>
<td>get the single value associated with Key from the flow-memory,</td>
</tr>
<tr>
<td><code>ls_mem_list(Key)</code> -&gt; any</td>
<td>get the list value associated with Key from the flow-memory</td>
</tr>
<tr>
<td><code>ls_mem_set()</code> -&gt; any</td>
<td>get the set value associated with Key from the flow-memory</td>
</tr>
</tbody>
</table>
<h3 id="conditional-functions">Conditional functions</h3>
<p><strong>If</strong></p>
<p>Returns the result of its operands depending on the value of the first argument. 
The second and third arguments must return the same type.</p>
<p>Example:</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code><span style="color: #f92672">|</span><span style="color: #f8f8f2">eval(</span><span style="color: #66d9ef">lambda</span><span style="color: #f8f8f2">:</span> <span style="color: #a6e22e">if</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&quot;field.val1&quot;</span> <span style="color: #f92672">&gt;</span> <span style="color: #a6e22e">threshold</span> <span style="color: #f92672">AND</span> <span style="color: #e6db74">&quot;field.val1&quot;</span> <span style="color: #f92672">!=</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39;true&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39;false&#39;</span><span style="color: #f8f8f2">))</span>
<span style="color: #f8f8f2">.</span><span style="color: #a6e22e">as</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;value&#39;</span><span style="color: #f8f8f2">)</span>
</code></pre></div>


<p>The value of the field <code>value</code> in the above example will be the string <code>true</code> or <code>false</code>, 
depending on the condition passed as the first argument.</p>
<p>The if function’s return type is the same type as its second and third arguments.</p>
<div class="codehilite" style="background: #272822"><pre style="line-height: 125%"><span></span><code>if(condition, true expression, false expression)
</code></pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="index.html" title="Introducing the DFS Script Language" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Introducing the DFS Script Language
              </span>
            </div>
          </a>
        
        
          <a href="../nodes/index.html" title="Faxe nodes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Faxe nodes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:".."}})</script>
      
    
  </body>
</html>